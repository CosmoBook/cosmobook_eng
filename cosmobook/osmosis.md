# Osmosis

![](https://img2.teletype.in/files/50/71/507178a3-549e-41ef-b704-83e2f9f50b51.png)

## OSMOSIS <a href="#pefc" id="pefc"></a>

Для нормального функционирования любой блокчейн экосистемы нужен хороший DEX, или же децентрализованная биржа, если по-русски. DEXs позволяют привлекать ликвидность в сеть, инвестировать в проекты, обменивать токены, в общем, создают здоровую экономическую модель. И самым значимым DEX с наибольшей ликвидностью, объемом торгов и комиссий в сети Cosmos является именно Osmosis.

### Что такое Osmosis

Osmosis это высокотехнологичный AMM (автоматический маркет-мейкер) протокол, который позволяет запускать кастомизированные пулы ликвидности с широкими набором настраиваемых параметров. Был основан в январе 2021 года Sunny Aggarwal, Josh Lee, и Dev Ojha, все три персонажа являются опытными блокчейн разработчиками, работавшими на Tendermint, где и разработали архитектуру для своего DEX. В данный момент за разработку и написание кода отвечает их компания Osmosis Labs. Команда Osmosis, вдохновленная такими проектами, как Balancer и Uniswap, поставила перед собой цель предоставить пользователям и разработчикам лучшие в своем роде инструменты для создания и настройки AMM, уходящих далеко за границы функционала простой “свапалки”.

### **Как работает Osmosis**

На функциональном уровне работа Osmosis ничем не отличается от работы других AMMs – пулы ликвидности лочат токены через смарт-контракт, который обеспечивает функционирование торгов (свапов). Поставщики ликвидности депонируют свои токены в пулы ликвидности, получают за это LP токены (токены пула ликвидности) и, соответственно, долю от генерируемых в пуле комиссий. Модель формирования цены тоже стандартная для большинства AMM - доля токена в пуле должна оставаться постоянной. А чем Osmosis такой примечательный и уникальный, расскажем дальше.

#### **Стимулы для предоставления ликвидности**

Для обеспечения необходимой ликвидности на Osmosis используются два ключевых механизма – удельный вес обеспечиваемой ликвидности (bonded liquidity gauge) и комиссии за вывод средств из пула ликвидности (exit fees).

#### **Удельный вес обеспечиваемой ликвидности**

Данный механизм позволяет формировать дополнительное (помимо доходности от полученных пулом комиссий) вознаграждение поставщикам ликвидности исходя из их доли в пуле ликвидности и от времени, на которое они лочат свои LP токены данного пула. 45% ежедневной эмиссии токенов OSMO выделяется на это дополнительное вознаграждение. При этом у пользователя есть различные опции (или же удельный вес, в оригинале **gauges**) по выбору времени лока своих LP токенов. Допустим, в пуле ATOM/OSMO есть опции лока на день, неделю и месяц – далее опция 1, опция 2 и опция 3 соответственно. При этом дополнительные вознаграждения определенным образом распределяются между этими опциями. Несколько практических примеров:

1\. Валера добавляет свои активы в пул, получает LP токены, но не хочет их лочить. Тогда его доход будет состоять из полученных пулом комиссий, никакого дополнительного вознаграждения он не получит.

2\. Валера выбирает опцию 1. Теперь его доход состоит из комиссий пула и дополнительного вознаграждения, предусмотренного опцией 1 (разумеется, пропорционально доле LP токенов Валеры от общей доли LP токенов, получающих вознаграждение от 1 опции).

3\. Валера выбирает опцию 3. А значит, что теперь его доход помимо комиссий пула теперь будет включать в себя дополнительные вознаграждения, предусмотренные для опции 1, опции 2 и опции 3. Короче парень берет от жизни по максам.

Стоит учесть, что у пользователей есть возможность разделить свои LP токены на различные опции, например, отправить 50% в первую опцию, а 50% во вторую.

Не все пулы ликвидности могут получать дополнительное вознаграждение в токенах OSMO. Стейкеры OSMO путем он-чейн голосования выбирают, какие пулы получат это вознаграждение и в каких долях оно будет распределено между различными опциями. Для этого стейкеры присваивают пулам и их опциям так называемые “очки аллокации (allocation points)”. Например, в ходе голосования было присвоено всего 20 очков аллокации, 2 очка аллокации приходится на опцию 1 пула X, тогда данная опция получит 2/20 = 10% от всех дополнительных вознаграждений.

Помимо “официального” дополнительного вознаграждения (45% от ежедневной эмиссии токенов OSMO), любой проект или пользователь может назначить своё дополнительное вознаграждение и установить распределение по опциям для какого-то определенного пула.

Удельный вес обеспечиваемой ликвидности выполняет еще одну важную функцию – служит защитой от “вампирских атак”, поскольку для получения дополнительного дохода пользователи вынуждены лочить свои средства, у сторонних DEXs нет возможности переманить поставщиков ликвидности на свою площадку краткосрочным супервыгодным предложением.

Детально обо всем этом можно почитать [тут](https://medium.com/osmosis/osmosis-liquidity-mining-101-2fa58d0e9d4d).

#### **Комиссия за вывод средств из пула ликвидности**

Комиссия за вывод средств из пула – это небольшой процент LP токенов, который взимается у поставщика ликвидности, когда он отправляет запрос на вывод средств из пула. При этом эти токены сжигаются.

#### **Кастомизация пулов ликвидности**

Поставщики ликвидности могут экспериментировать с различными функциями маркет-мейкинга, это значит, что у Osmosis нет какой-то определенной математической функции, как у большинства других AMM, по которой работают пулы ликвидности (для примера, Uniswap используют функцию x\*y = k, где x и y это соответственно количество одного и второго токенов в пулах, а k – постоянная величина, если вы совсем новичок и ничего не поняли, то почитайте как работает Uniswap, это необходимые базовые знания). Параметры пула, такие как изначальный удельный вес токенов (доля определенного токена в пуле), комиссия за свапы и вычисление TWAP (Time-Weighted Average Price, что-то типа средней цены за определенный промежуток времени) выбираются создателями пула. Но при этом у всех держателей LP токенов каждого пула есть право голоса на принятие каких-либо изменений в пуле, пропорциональное их доле LP (а еще до кучи есть определенные коэффициенты, которые учитывают, как долго пользователей является поставщиком ликвидности в данный пул и в зависимости от этого он получает буст к своим голосам, такие дела).

Кастомизация пулов в изначальном видении команды Osmosis должна послужить для нахождения оптимальных параметров пулов экспериментальным методом, более того, настолько гибкие настройки должны в будущем позволить использовать на Osmosis новые типы DeFi деятельности, например, опционы, рынки с динамически изменяющейся комиссией и т.д., а также помочь пулам лучше функционировать в периоды высокой волатильности.

#### **Суперфлюидный стейкинг (superfluid staking)**

У мульти-чейн экосистемы есть один большой недостаток – обеспечение безопасности сети, которое достигается за счет стейкинга. Так у ETH 2.0 безопасность сети обеспечивают стейкеры эфира, у Polkadot экосистемы за безопасность отвечает рилэй чейн, т.е. сама полька. И там, и там залочено большое количество монет, поэтому безопасность на высоком уровне. В свою очередь в экосистеме Cosmos, на данный момент нет своего “ядра”, отвечающего за безопасность и поэтому может возникнуть проблема, когда с одной стороны нативные токены нужны для стейкинга и обеспечения безопасности, с другой стороны нативные токены нужны и для создания ликвидности. Osmosis придумал как убить двух зайцев одним выстрелом. Суперфлюидный стейкинг – это механизм, позволяющий использовать часть токенов OSMO, находящихся в пулах ликвидности, для их одновременного стейкинга.

Небольшой практический пример:

Пользователь добавляет в пул ATOM/OSMO ликвидность на 1000$ (500$ в токенах ATOM и 500$ в токенах OSMO) и выбирает срок лока своих токенов в пуле, который гарантирует ему определенный APR (annual percentage rate – или годовая процентная ставка). Пусть этот APR = X. После этого у пользователя есть возможность добавить часть своих залоченных в пуле токенов OSMO в стейкинг. Какую часть из этих токенов пользователь может добавить в стейкинг, определяется исходя из соображений безопасности. Изначально эта часть равнялась 50% от токенов OSMO. Таким образом в нашем примере пользователь будет получать доход X за предоставление ликвидности в пул и дополнительный доход Y за стейкинг токенов OSMO на 250$ в эквиваленте (50% от 500$ в токенах OSMO, добавленных в пул ликвидности).Стоит учесть, что доходность Y является динамически изменяющейся величиной, так как соотношение количества токенов ATOM/OSMO постоянно меняется с изменением их цены друг относительно друга. Эти изменения учитываются благодаря TWAP (time-weighted average price, или же средней цене на заданном интервале времени) оракулу.

_Неофициальное видео на русском языке, где подробно и доходчиво с практическими примерами объясняется работа суперфлюидного стейкинга_ [тут](https://www.youtube.com/watch?v=JRBOUrrKa3s)

_Официальное видео про принцип работы суперфлюидного стейкинга на английском языке_ [тут](https://www.youtube.com/watch?v=JRBOUrrKa3s)

Суперфлюидный стейкинг позволяет поставщикам ликвидности получать больше наград (награды пула ликвидности + награды за стейкинг) и при этом улучшает безопасность Osmosis (больше OSMO в стейкинге).

### **Osmosis Frontier**

![](https://img4.teletype.in/files/b2/0d/b20d0dcc-cba5-46bc-9f82-cae60dc757c1.png)

Существует проблема, связанная с тем, что нет ни одного эффективного и безопасного мульти-чейн моста. Использование нескольких мостов создаёт различные разновидности обернутых токенов (wrapped token) одного и того же актива (например, вы хотите перевести эфир в сеть Cosmos используя мост X, на выходе вы получите xETH, если будете использовать мост Y, то получите yETH), это, во-первых, размывает ликвидность, а во-вторых, приводит к путанице рядовых пользователей, которые видят кучу разных обернутых вариаций одного и того же токена и не знают, что им выбрать. Osmosis категорически не хотят, чтобы такое происходило на их площадке, но и ждать появления идеального моста тоже не является приемлемым вариантом. Поэтому они запустили своего рода экспериментальный DEX – Osmosis Frontier, где любой пользователь может создать свой пул с любым активом. Такой вот дикий запад для любых экспериментов (хочешь, скам коины листи, хочешь с настройками пулов играйся, хочешь мосты тестируй).

_Ссылка на площадку_ [тут](https://frontier.osmosis.zone/). **!!! **_**помните, что здесь можно нарваться на скам, пул может быть пустым и слиппедж ударит вам серпом по яшкам. Короче, будьте осторожны, если вдруг решите поэкспериментировать !!!**_

\*Так же стоит отметить, что в официально медиуме Osmosis вскользь упоминалось о том, что, возможно в будущем на Osmosis появится возможность отображать все различные врапнутые версии одного и того же актива как единого токена.

\*\* У пользователя есть возможность добавить некоторые активы из сети Ethereum на Osmosis с помощью интерфейса Axelar. На начало июня 2022 года эти активы ограничивались USDC, WBTC, WETH и DAI.

Официальный гайд по тому, как это можно сделать [тут.](https://medium.com/osmosis/bridging-ethereum-assets-to-osmosis-a-guide-to-the-axelar-interface-ac63c16cfb98)

\*\*\* В конце июня 2022 года Osmosis, благодаря интеграции приложения Kado, предоставили пользователям возможность напрямую покупать токены axUSDC и OSMO со своих кредитных карт или банковских аккаунтов.

Более подробную информацию можно найти [тут.](https://medium.com/osmosis/osmosis-integrates-kado-for-direct-fiat-on-ramping-to-the-dex-a1a49f2cf157)

### **Токеномика**

График эмиссии токенов OSMO по годам

![](https://telegra.ph/file/d05af7bfa92167816b705.png)

Нативный токен $OSMO выполняет гавернанс и утилити функции.

Во-первых, он служит для обеспечения экономической безопасности Osmosis посредством стейкинга, а когда будет запущена функция обеспечения общей безопасности, Osmosis собираются стать частью хаба Cosmos. Во-вторых, $OSMO позволяет холдерам принимать участие в он-чейн голосованиях. В-третьих, токен используется для оплаты комиссий и предоставления дополнительного вознаграждения поставщикам ликвидности.

Стоит отметить, что максимальный саплай составляет всего 1 миллиард токенов и дефляционная модель достигается за счет уменьшения эмиссии новых токенов на треть каждый год. Новые токены служат наградой за стейкинг, предоставление ликвидности в пулы и ликвидный майнинг, а также поощрением разработчикам экосистемы.

### **UPD**

Osmosis недавно объявили, что собираются работать с Polkadot и ERC токенами, что станет возможным благодаря их интеграции с Axelar и Moonbeam. Подробнее об этом можно почитать [тут](https://blockworks.co/osmosis-co-founder-doesnt-see-cosmos-and-polkadot-as-competitors/)
